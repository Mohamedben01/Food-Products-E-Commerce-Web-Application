<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>MedOne Shop</title>
<link rel="stylesheet" href="/css/stylelogin.css">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
	integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
	crossorigin="anonymous" />
<style>
	body {
	background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
	background-size: 400% 400%;
	animation: gradient 15s ease infinite;
}

@keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}
</style>
</head>
<body>

	<div class="col-md-4 mx-auto login-sec" style="margin-top: 120px;">
		<h2 id="audiowide" class="text-center">Reset Your Password</h2>
		<div th:if="${message != null}">
		       <p th:inline="text" class="text-warning text-center">[[${message}]]<br>
		             <a class="text-center" style="text-decoration:none; color:lightblue; font-size:18px;font-weight:500;" href="http://localhost:8989/login">Go Back To Login Page.</a></p>
		</div>
		<form class="login-form" method="POST" th:action="@{/reset_password}">
		    <input type="hidden" name="token" th:value="${token}">
			<div class="form-group">
				<input type="password" class="form-control" placeholder="Enter your new password" id="password" name="password" required>
			</div>
			<div class="form-group">
		    	<input type="password" class="form-control" placeholder="Enter your new password" id="confirmPassword" name="confirmPassword" required>
			</div>
			<div class="text-center" id="msg"></div>
			<div class="mt-2">
				<button id="button1" type="submit" style="background:crimson;" disabled='disabled' class="btn btn-login w-100">Change Password</button>
			</div>
		</form>
	</div>
</body>
<script>
  $(document).ready(function(){
	  $('#password, #confirmPassword').on('keyup', function () {
		  if ($('#password').val() == $('#confirmPassword').val()) {
			  $(".btn-login").prop('disabled', false);
		      $('#msg').html(" ");
		  } else {
			  $(".btn-login").prop('disabled', true);
			  $('#msg').html("Entered Password is not matching!! Try Again").css('color', 'red');
		  }   
	  });
  });
</script>
</html>